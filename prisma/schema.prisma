generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Lead {
  id              String     @id @default(cuid())
  externalLeadId  String?    @map("lead_code")
  phone           String     @unique
  firstName       String?
  lastName        String?
  email           String?
  city            String?
  state           String?
  zip             String?
  address         String?
  address2        String?
  phone2          String?
  ipAddress       String?    @map("ip_address")
  fullPayload     Json
  status          LeadStatus @default(NEW)
  insuranceStatus String?
  ringbaBid       Float?
  ringbaBuyerId   String?
  ringbaToken     String?
  createdAt       DateTime   @default(now())
  pingedAt        DateTime?
  postedAt        DateTime?

  @@index([externalLeadId])
  @@index([status])
  @@index([createdAt])
  @@map("leads")
}

enum LeadStatus {
  NEW
  PINGED
  ACCEPTED
  REJECTED
  POSTED
}
